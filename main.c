/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   main.c                                             :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: iisraa11 <iisraa11@student.42.fr>          +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2024/12/18 14:54:31 by isrguerr          #+#    #+#             */
/*   Updated: 2025/02/02 17:10:21 by iisraa11         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "push_swap.h"
#include "libft/libft.h"

int is_sorted(stack_node *stack, int size)
{
	int i;

	if (stack == NULL || size <= 1)
		return (1);
	i = 0;
	while (stack->next != NULL && i < size - 1)
	{
		if (stack->value > stack->next->value)
			return (0);
		stack = stack->next;
		i++;
	}
	return (1);
}

int	main(int argc, char **argv)
{
	stack_node	*a;
	stack_node	*b;
	
	a = NULL;
	b = NULL;
	if (argc == 1)
		return (1);
	else if (argc == 2)
	{
		argv = ft_split(argv[1], 32);
		stack_init(&a, argv);
	}
    else
		stack_init(&a, argv + 1);
	if (!is_sorted(a, ft_lstsize(a)))
    	sort_stack(&a, &b);
	//ft_lstiter(a, print_node_value); //probar con 1222 4405 3230 434 1880 516 634 2767 2090 2795 1933 1133 4090 1608 3105 4849 3731 1872 2392 1040 3385 3949 2603 4953 411 3093 667 2304 2098 3308 3636 3389 2506 3278 4277 1376 2197 26 2060 296 2623 3560 2162 1971 3973 580 251 3260 602 4361 119 1965 1873 3554 4496 3942 4414 4052 1280 3302 2458 904 3010 1284 4354 3722 2307 3469 1710 1326 2672 1979 2288 1393 3743 2711 2391 1021 859 20 1266 4169 218 4023 1686 3356 3632 2965 4337 3295 1025 1377 1104 2660 470 1553 1597 2610 3004 4737 2183 3937 2982 3426 646 2787 3979 3734 3188 1083 2876 528 2971 4292 1227 3456 2690 4632 2596 3360 2036 328 2917 3714 2993 2046 1599 3672 2682 16 1669 3574 3306 358 3130 4749 1088 1066 4248 2182 4209 4666 1576 1929 344 1299 1574 1959 2528 931 1745 4422 481 2590 3094 3392 3250 1027 3146 4081 4345 1396 4542 144 4993 3222 425 762 3396 2748 4137 657 3701 2030 509 4462 4372 2958 1559 2053 4695 1046 1051 1316 3773 1815 3059 499 4619 3388 485 4195 4592 1999 4459 1230 4427 4186 4008 1239 4768 3300 2838 1722 3344 4378 1229 1480 544 4225 4262 1708 2555 4154 3494 4425 3904 953 2021 4545 711 4344 3863 1374 4389 400 3437 1131 3141 3166 382 787 767 4671 2331 3964 2384 3367 1962 4103 3440 3689 147 2942 3226 764 3612 4241 641 4083 2434 4901 1975 3922 1192 1896 566 2081 3521 3461 4852 912 3292 3201 561 2565 1740 48 3016 1200 1624 127 4324 3174 4743 4620 2313 1319 3663 386 4520 4684 2437 2306 3149 3523 2606 1382 2674 2089 1675 4897 593 1062 1781 4120 801 4507 3402 3876 568 3077 4419 530 1785 993 892 2029 1950 340 3227 155 3464 4732 1584 4330 3508 2717 2453 4734 4896 4803 21 2520 1056 2402 2136 4599 649 2161 778 2416 998 4580 4640 45 4885 4297 997 4428 2 1429 2472 4210 1213 2743 3284 662 2145 2068 2569 2792 1695 632 3047 720 765 2948 2950 4148 2576 1454 2363 1918 1542 613 788 1160 4417 1732 2433 3622 438 18 2858 3721 3492 4543 1324 249 231 1804 3635 553 1578 2427 973 2185 4590 3658 921 2687 3733 4581 4374 2350 1689 4868 2210 687 4570 4263 1436 943 875 591 4937 661 574 4847 2018 1156 2980 1769 2768 4035 517 542 1235 2967 357 1677 1408 3249 2597 3744 450 2734 89 2910 4776 807 526 3938 2912 4908 1859 586 2229 3325 3318 22 1337 2719 4571 3960 2688 3766 4701 3717 2939 2810 4806 3925 2817 1739 1593 4477 2716 4149 3956 3790 132 1703 2667 3236 4862 1416 2916 4214 4280 3303 2019 1294 3259 3656 631 4547 4657 1228 4531 3373 1494 2267 463 2508 984 4654 2000 225 4472 1540 3087 1231 3346 4380 3617 2336 2100 512
    free_stack(&a);
    return (0);
}
